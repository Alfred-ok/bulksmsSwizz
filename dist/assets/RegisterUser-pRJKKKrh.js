import{r,n as k,j as e,C as A}from"./index-C301rl4l.js";import{a as l,b as t,c as o,d}from"./CRow-DzvM-Fku.js";import{C as q,a as D}from"./CCardBody-BB8X-jUM.js";import{C as B,g as _,h as u}from"./DefaultLayout-D85aDnQc.js";import{C as $}from"./CForm-DyX8Mp35.js";import{C as n}from"./CFormInput-VSLTUyno.js";import{C as g}from"./CFormSelect-CWPKjNEb.js";import"./index.esm-DfaUp9eW.js";import"./CAlert-DXt3K87V.js";function Y(){const[j,C]=r.useState(),[b,f]=r.useState(),[c,y]=r.useState(),[w,v]=r.useState(),[F,S]=r.useState(),[z,N]=r.useState(),[p,I]=r.useState(),[m,R]=r.useState(),[h,T]=r.useState([]),[M,i]=r.useState(!1),U=k(),[E,x]=r.useState(!1);r.useEffect(()=>{try{fetch("https://81c9-69-197-145-100.ngrok-free.app/get_User").then(s=>s.json()).then(s=>{console.log(s),T(s)}).catch(s=>{console.log(s)})}catch(s){console.error("There was a problem with the fetch operation:",s)}},[]);const P=async s=>{s.preventDefault(),x(!0);try{const a=await fetch("https://81c9-69-197-145-100.ngrok-free.app/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:j,email:b,organisation:c,userName:w,password:F,roles:p,groupID:c})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const O=await a.json();R(O.ResponseMessage),i(!0)}catch(a){console.error("There was a problem with the fetch operation:",a)}x(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx(t,{xs:10,style:{margin:"0 auto"},children:e.jsx(q,{className:"mb-4",style:{boxShadow:"0px 15px 34px 0px rgba(0,0,0,0.2)"},children:e.jsxs(D,{style:{padding:"35px"},children:[e.jsx(B,{children:e.jsxs("span",{style:{fontSize:"30px",color:"rgb(71, 71, 212)",padding:"20px 20px",display:"flex",alignItems:"center"},children:[e.jsxs("svg",{style:{marginRight:"7px"},xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"currentColor",class:"bi bi-person-fill-add",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}),e.jsx("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4"})]}),"User Registration"]})}),e.jsxs($,{onSubmit:P,style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"25px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"User name"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"User name",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>v(s.target.value),required:!0})]})}),e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput2",children:"E-Mail Address"}),e.jsx(n,{type:"email",id:"exampleFormControlInput2",placeholder:"E-Mail Address",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>f(s.target.value),required:!0})]})})]}),e.jsxs(l,{children:[e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput3",children:"Names"}),e.jsx(n,{type:"text",id:"exampleFormControlInput3",placeholder:"Names",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>C(s.target.value),required:!0})]})}),e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput4",children:"Password"}),e.jsx(n,{type:"password",id:"exampleFormControlInput4",placeholder:"Password",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>S(s.target.value),required:!0})]})})]}),e.jsxs(l,{children:[e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput5",children:"Confirm password"}),e.jsx(n,{type:"password",id:"exampleFormControlInput5",placeholder:"Confirm password",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>N(s.target.value)})]})}),e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput6",children:"Roles"}),e.jsx(g,{id:"exampleFormControlInput6","aria-label":"Default select example",style:{borderColor:"rgba(71, 71, 212,0.6)"},value:p,onChange:s=>I(s.target.value),required:!0,options:["Select Role",{label:"Admin",value:"ProT_917201762254"},{label:"User",value:"ProT_917201762349"}]})]})})]}),e.jsxs(l,{children:[e.jsx(t,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput6",children:"Organisation"}),e.jsxs(g,{className:"mb-3","aria-label":"Small select example",style:{borderColor:"rgba(71, 71, 212,0.6)"},value:c,onChange:s=>y(s.target.value),children:[e.jsx("option",{value:"",children:"Organisation"})," ",h&&h.map((s,a)=>e.jsx("option",{value:s.organisation,children:s.userName},a))]})]})}),e.jsx(t,{})]}),e.jsx("div",{className:"col-auto",style:{width:"60%",paddingTop:"20px",margin:"0px auto"},children:E?e.jsxs(d,{color:"primary",type:"submit",className:"mb-3",disabled:!0,style:{width:"100%",margin:"0 auto"},children:[e.jsx(A,{as:"span",size:"sm"})," Uploading Data ..."]}):e.jsx(d,{color:"primary",type:"submit",className:"mb-3",style:{width:"100%",margin:"0 auto"},children:"REGISTER"})})]})]})})})}),e.jsx(_,{visible:M,onClose:()=>i(!1),children:m=="Successful"?e.jsxs(u,{style:{textAlign:"center"},children:[e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:m}),e.jsx(d,{color:"primary",onClick:()=>{i(!1),U("/user")},style:{color:"#fff",margin:"10px",width:"80%"},children:"OK"})]}):e.jsxs(u,{style:{textAlign:"center"},children:[e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:m}),e.jsx(d,{color:"primary",onClick:()=>i(!1),style:{color:"#fff",margin:"10px",width:"80%"},children:"OK"})]})})]})}export{Y as default};
