import{r as n,d as ee,R as t,P as o,_ as g,a as p,c as C}from"./index-DxiAcUCP.js";import{b as oe}from"./DefaultLayout-BmgnOIWU.js";import{u as ne,T as te}from"./CCloseButton-BkFP51Rh.js";var re=function(e){return e?typeof e=="function"?e():e:document.body},y=function(e){var i=e.children,r=e.container,a=e.portal,s=n.useState(null),c=s[0],u=s[1];return n.useEffect(function(){a&&u(re(r)||document.body)},[r,a]),typeof window<"u"&&a&&c?ee.createPortal(i,c):t.createElement(t.Fragment,null,i)};y.propTypes={children:o.node,container:o.any,portal:o.bool.isRequired};y.displayName="CConditionalPortal";var x=n.forwardRef(function(e,i){var r=e.children,a=e.className,s=g(e,["children","className"]);return t.createElement("div",p({className:C("modal-content",a)},s,{ref:i}),r)});x.propTypes={children:o.node,className:o.string};x.displayName="CModalContent";var w=n.forwardRef(function(e,i){var r,a=e.children,s=e.alignment,c=e.className,u=e.fullscreen,b=e.scrollable,m=e.size,f=g(e,["children","alignment","className","fullscreen","scrollable","size"]);return t.createElement("div",p({className:C("modal-dialog",(r={"modal-dialog-centered":s==="center"},r[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,r["modal-dialog-scrollable"]=b,r["modal-".concat(m)]=m,r),c)},f,{ref:i}),a)});w.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};w.displayName="CModalDialog";var le=n.createContext({}),K=n.forwardRef(function(e,i){var r=e.children,a=e.alignment,s=e.backdrop,c=s===void 0?!0:s,u=e.className,b=e.container,m=e.duration,f=m===void 0?150:m,O=e.focus,G=O===void 0?!0:O,H=e.fullscreen,R=e.keyboard,J=R===void 0?!0:R,h=e.onClose,P=e.onClosePrevented,Q=e.onShow,T=e.portal,z=T===void 0?!0:T,U=e.scrollable,W=e.size,L=e.transition,E=L===void 0?!0:L,M=e.unmountOnClose,X=M===void 0?!0:M,N=e.visible,Y=g(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),S=n.useRef(null),v=n.useRef(null),Z=n.useRef(null),$=ne(i,v),B=n.useState(N),d=B[0],k=B[1],D=n.useState(!1),F=D[0],V=D[1],_={visible:d,setVisible:k};n.useEffect(function(){k(N)},[N]),n.useEffect(function(){var l;return d?(S.current=document.activeElement,document.addEventListener("mouseup",q),document.addEventListener("keydown",I)):(l=S.current)===null||l===void 0||l.focus(),function(){document.removeEventListener("mouseup",q),document.removeEventListener("keydown",I)}},[d]);var j=function(){return c==="static"?V(!0):(k(!1),h&&h())};n.useLayoutEffect(function(){P&&P(),setTimeout(function(){return V(!1)},f)},[F]),n.useLayoutEffect(function(){return d?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var l;G&&((l=v.current)===null||l===void 0||l.focus())},E?f:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[d]);var q=function(l){v.current&&v.current==l.target&&j()},I=function(l){l.key==="Escape"&&J&&j()};return t.createElement(t.Fragment,null,t.createElement(te,{in:d,mountOnEnter:!0,nodeRef:v,onEnter:Q,onExit:h,unmountOnExit:X,timeout:E?f:0},function(l){return t.createElement(y,{container:b,portal:z},t.createElement(le.Provider,{value:_},t.createElement("div",p({className:C("modal",{"modal-static":F,fade:E,show:l==="entered"},u),tabIndex:-1},d?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:p({},l!=="exited"&&{display:"block"})},Y,{ref:$}),t.createElement(w,{alignment:a,fullscreen:H,scrollable:U,size:W},t.createElement(x,{ref:Z},r)))))}),c&&t.createElement(y,{container:b,portal:z},t.createElement(oe,{visible:d})))});K.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,container:o.any,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};K.displayName="CModal";var A=n.forwardRef(function(e,i){var r=e.children,a=e.className,s=g(e,["children","className"]);return t.createElement("div",p({className:C("modal-body",a)},s,{ref:i}),r)});A.propTypes={children:o.node,className:o.string};A.displayName="CModalBody";export{K as C,A as a,le as b};
