import{r,e as g,n as v,j as a,C}from"./index-C301rl4l.js";import{S as i}from"./sweetalert2.esm.all-DOYwHpwi.js";import{a as n,b as p,c as f,d}from"./CRow-DzvM-Fku.js";import{C as b,a as j}from"./CCardBody-BB8X-jUM.js";import{C as y}from"./DefaultLayout-D85aDnQc.js";import{C as w}from"./CForm-DyX8Mp35.js";import{C as S}from"./CFormInput-VSLTUyno.js";import"./index.esm-DfaUp9eW.js";import"./CAlert-DXt3K87V.js";import"./CFormSelect-CWPKjNEb.js";function B(){const[l,c]=r.useState();r.useState();const m=g.get("groupId"),[h,t]=r.useState(!1);r.useState(""),v();const u=async s=>{s.preventDefault(),t(!0);try{const e=await fetch("https://81c9-69-197-145-100.ngrok-free.app/groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupName:l,organisationGroup:m})});if(!e.ok){const x=await e.json();throw new Error(x)}const o=await e.text();o=="Failed to create Group"?i.fire({title:"Error",text:o,icon:"error"}):i.fire({title:"Successful",text:o,icon:"success"}),t(!1)}catch(e){console.error("There was a problem with the fetch operation:",e),t(!1),i.fire({icon:"error",title:"Validation Error",text:"Please ensure all fields are correctly filled based on the validation rules."})}};return a.jsx(a.Fragment,{children:a.jsx(n,{children:a.jsx(p,{xs:10,style:{margin:"0 auto"},children:a.jsx(b,{className:"mb-4",style:{boxShadow:"0px 15px 34px 0px rgba(0,0,0,0.2)"},children:a.jsxs(j,{style:{padding:"35px"},children:[a.jsxs(y,{style:{padding:"20px 20px",display:"flex",alignItems:"center",color:"rgb(71, 71, 212)"},children:[a.jsxs("svg",{style:{marginRight:"8px"},xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"currentColor",class:"bi bi-building-add",viewBox:"0 0 16 16",children:[a.jsx("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0"}),a.jsx("path",{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6.5a.5.5 0 0 1-1 0V1H3v14h3v-2.5a.5.5 0 0 1 .5-.5H8v4H3a1 1 0 0 1-1-1z"}),a.jsx("path",{d:"M4.5 2a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"})]}),a.jsx("h3",{children:"Create New Group"})]}),a.jsxs(w,{onSubmit:u,style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"25px",borderRadius:"5px"},children:[a.jsx(n,{children:a.jsx(p,{children:a.jsxs("div",{className:"mb-3",children:[a.jsx(f,{htmlFor:"exampleFormControlInput1",children:"Group Name"}),a.jsx(S,{type:"text",id:"exampleFormControlInput1",placeholder:" Enter Group Name",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>c(s.target.value),value:l})]})})}),a.jsx("div",{className:"col-auto",style:{width:"40%",paddingTop:"20px",margin:"0px auto"},children:h?a.jsxs(d,{color:"success",type:"submit",className:"mb-3",disabled:!0,style:{width:"100%",margin:"0 auto"},children:[a.jsx(C,{as:"span",size:"sm"})," Uploading Data ..."]}):a.jsx(d,{color:"primary",type:"submit",className:"mb-3",style:{width:"100%",margin:"0 auto"},children:"CREATE"})})]})]})})})})})}export{B as default};
